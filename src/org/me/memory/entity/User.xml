<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
	
<mapper namespace="org.me.memory.entity">
	<insert id="insert" parameterType="User">
		insert into mem_user(strLoginId,dtBirthday,name,nSex,strMobile,strPhone,strEmail,strQQ,strWeChar,strProvinceCode,strProvinceName,strCityCode,strCityName,strHeadURL,strAddress,dtCreateTime,dtUpdateTime)
		values(#{strLoginId},#{dtBirthday},#{name},#{nSex},#{strMobile},#{strPhone},#{strEmail},#{strQQ},#{strWeChar},#{strProvinceCode},#{strProvinceName},#{strCityCode},#{strCityName},#{strHeadURL},#{strAddress},now(),now())
	</insert>
	
	<select id="selectSize" parameterType="HashMap" resultType="int">
		select count(1) from mem_user
		<where>
			<if test="strLoginId !=null">
				strLoginId=#{strLoginId}
			</if>
		</where>
	</select>
	
	<update id="update" parameterType="User">
		update mem_user
		<set>
			<if test="dtBirthday!=null">
				dtBirthday=#{dtBirthday}
			</if>
			<if test="name!=null">
				name=#{name}
			</if>
			<if test="nSex!=null">
				nSex=#{nSex}
			</if>
			<if test="strMobile!=null">
				strMobile=#{strMobile}
			</if>
			<if test="strPhone!=null">
				strPhone=#{strPhone}
			</if>
			<if test="strEmail!=null">
				strEmail=#{strEmail}
			</if>
			<if test="strQQ!=null">
				dstrQQ=#{strQQ}
			</if>
			<if test="strWeChar!=null">
				strWeChar=#{strWeChar}
			</if>
			<if test="strProvinceCode!=null">
				strProvinceCode=#{strProvinceCode}
			</if>
			<if test="strProvinceName!=null">
				strProvinceName=#{strProvinceName}
			</if>
			<if test="strCityCode!=null">
				strCityCode=#{strCityCode}
			</if>
			<if test="strCityName!=null">
				strCityName=#{strCityName}
			</if>
			<if test="strHeadURL!=null">
				strHeadURL=#{strHeadURL}
			</if>
			<if test="strAddress!=null">
				strAddress=#{strAddress}
			</if>
				dtUpdateTime=now()
		</set>
		where strLoginId=#{strLoginId}
	</update>
</mapper>